(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index"],{"058c":function(e,t,n){"use strict";(function(e,a){var o=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("2eee")),r=o(n("7037")),c=o(n("c973")),u=n("ce8d"),d=n("01a9"),s=n("1dfd"),f={components:{PastPage:function(){n.e("pages/pastPage").then(function(){return resolve(n("3e11"))}.bind(null,n)).catch(n.oe)}},data:function(){return{curPage:"home",routerConfig:{homePage:"home",pastPage:"past",myInfo:"myInfo"},data:[],videoAd:null,OneApi:{ApiKey_Name:"",ApiKey:"",Expire_Time:0}}},onLoad:function(){var t=this;return(0,c.default)(i.default.mark((function n(){var a;return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.data=t.mockData(),a=e.getStorageSync("oneApi"),a&&"object"===(0,r.default)(a)&&(t.OneApi=a),t.initExciteVideoAd();case 4:case"end":return n.stop()}}),n)})))()},methods:{searchApiKey:u.searchApiKey,updateToken:u.updateToken,generateToken:u.generateToken,mockData:s.mockData,copyText:d.copyText,formatTimestamp:d.formatTimestamp,initExciteVideoAd:function(){var t=this;e.createRewardedVideoAd&&(this.videoAd=e.createRewardedVideoAd({adUnitId:"adunit-585a8e725bc2bdf8"}),this.videoAd.onLoad((function(){})),this.videoAd.onError((function(e){(0,d.showToast)("激励视频广告加载失败",!1)})),this.videoAd.onClose(function(){var e=(0,c.default)(i.default.mark((function e(n){return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n||!n.isEnded){e.next=14;break}if(t.OneApi.ApiKey||t.OneApi.ApiKey_Name){e.next=8;break}return e.next=4,(0,u.generateToken)();case 4:t.OneApi=e.sent,(0,d.showToast)("奖励已下发, 请在「我的」页面查收~",!0),e.next=12;break;case 8:return e.next=10,(0,u.updateToken)();case 10:t.OneApi=e.sent,(0,d.showToast)("已为您更新时间",!0);case 12:e.next=15;break;case 14:(0,d.showToast)("未获得奖励, 继续加油~",!1);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},callExciteAd:function(){var e=this;this.videoAd?(console.log("触发调用激励视频广告~~"),this.videoAd.show().catch((function(){e.videoAd.load().then((function(){return e.videoAd.show()})).catch((function(e){(0,d.showToast)("激励视频显示失败，请联系客服",!1)}))}))):(0,d.showToast)("激励视频显示失败",!1)},jumpPastTimePage:function(e){a.navigateTo({url:"/pages/detail?info=".concat(JSON.stringify(e))})},resetData:function(){this.OneApi={ApiKey_Name:"",ApiKey:"",Expire_Time:0}},handleClearStorage:function(){e.clearStorageSync(),this.resetData(),(0,d.showToast)("缓存已清除",!0)}}};t.default=f}).call(this,n("bc2e")["default"],n("543d")["default"])},"2e3e":function(e,t,n){"use strict";n.r(t);var a=n("058c"),o=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=o.a},"4ff1":function(e,t,n){"use strict";var a=n("a389"),o=n.n(a);o.a},"9de2":function(e,t,n){"use strict";n.r(t);var a=n("d2fb"),o=n("2e3e");for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);n("4ff1");var r=n("f0c5"),c=Object(r["a"])(o["default"],a["b"],a["c"],!1,null,"3028c2ce",null,!1,a["a"],void 0);t["default"]=c.exports},a389:function(e,t,n){},c5ec:function(e,t,n){"use strict";(function(e,t){var a=n("4ea4");n("8742");a(n("66fd"));var o=a(n("9de2"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(o.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},d2fb:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){}));var a=function(){var e=this,t=e.$createElement,n=(e._self._c,"home"!==e.curPage&&"past"!==e.curPage&&"myInfo"===e.curPage&&(e.OneApi.ApiKey||e.OneApi.Expire_Time)?e.formatTimestamp(1e3*e.OneApi.Expire_Time):null);e._isMounted||(e.e0=function(t){e.curPage=e.routerConfig.homePage},e.e1=function(t){e.curPage=e.routerConfig.pastPage},e.e2=function(t){e.curPage=e.routerConfig.myInfo}),e.$mp.data=Object.assign({},{$root:{m0:n}})},o=[]}},[["c5ec","common/runtime","common/vendor"]]]);